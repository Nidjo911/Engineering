{% extends 'base.html' %}

{% block main %}
<div class="container">
    <h2>Our Products</h2>
    <div class="row">
        {% for product in products %}
        <div class="col s12 m6 l4">
            <div class="card">
                <div class="card-image">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" alt="{{ product.name }}">
                    {% else %}
                        <img src="https://picsum.photos/seed/{{ product.id }}/300/200" alt="{{ product.name }}">
                    {% endif %}
                    <span class="card-title">{{ product.name }}</span>
                </div>
                <div class="card-content">
                    <p>{{ product.description|truncatewords:20 }}</p>
                    <p class="price"><strong>${{ product.price }}</strong></p>
                </div>
                <div class="card-action">
                    <a href="{% url 'product-detail' slug=product.slug %}" class="waves-effect waves-light btn">
                        <i class="material-icons right">visibility</i>View Details
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    body {
        background-color: #f5f5f5;
        min-height: 100vh;
        padding: 20px 0;
    }
    .container {
        padding: 20px;
    }
    .card {
        height: 500px; /* Fixed height for all cards */
        display: flex;
        flex-direction: column;
        margin: 10px 0;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }
    .card .card-content {
        flex-grow: 1;
        padding: 20px;
        display: flex;
        flex-direction: column;
    }
    .card .card-content p {
        flex-grow: 1;
        margin-bottom: 15px;
    }
    .price {
        font-size: 1.4em;
        color: #2e7d32;
        font-weight: bold;
        margin: 10px 0;
    }
    .card .card-image {
        height: 300px;
        overflow: hidden;
    }
    .card .card-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }
    .card:hover .card-image img {
        transform: scale(1.05);
    }
    .card-title {
        width: 100%;
        background: linear-gradient(transparent, rgba(0,0,0,0.7));
        padding: 10px 20px;
        position: absolute;
        bottom: 0;
        left: 0;
        color: white;
        font-weight: 500;
    }
    .card-action {
        border-top: 1px solid rgba(160,160,160,0.2);
        padding: 15px 20px !important;
    }
    .btn {
        width: 100%;
        text-align: center;
        background-color: #3f51b5;
        color: white !important;
    }
    .btn:hover {
        background-color: #303f9f;
        color: white !important;
    }
    .btn i.material-icons {
        color: inherit !important;
        background: transparent !important;
        line-height: inherit;
        height: auto;
        width: auto;
    }
</style>
{% endblock %}

